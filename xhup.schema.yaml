# Rime schema settings
# encoding: utf-8

schema:
  schema_id: xhup
  name: å°é¹¤éŸ³å½¢
  version: "v10.9s"
  author:
    - æ–¹æ¡ˆè®¾è®¡ï¼šä½•æµ·å³° <flypy@qq.com>
    - æ–¹æ¡ˆè°ƒæ•´ï¼šæ°´çŒ« <kchen0x@gmail.com>
  description: |
    å°é¹¤éŸ³å½¢ä¸»ç è¡¨
  dependencies:
    - xhup_reverse

# ä½¿ç”¨é›¾å‡‡é»˜è®¤çš„æ ‡ç‚¹ç¬¦å·
punctuator:
  import_preset: default

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, A ]
  - name: full_shape
    states: [ åŠ, å…¨ ]
  - name: simplification
    states: [ ç®€, ç¹ ]
    reset: 0
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
    reset: 0
  - name: short_hints  #æ»¤é•œ
    reset: 1
    states: [ ğŸ™ˆ, ğŸµ ]

engine:
  processors:
    - lua_processor@*xhup/shortcut_processor
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - table_translator                          # ç è¡¨
    - lua_translator@*xhup/date_translator      # Lua æ—¥æœŸ
    - lua_translator@*xhup/time_translator      # Lua æ—¶é—´
    - lua_translator@*xhup/shortcut_translator  # Lua ç›´é€šè½¦
    - reverse_lookup_translator@xhup_reverse
    - history_translator@history                # é‡å¤ä¸Šå±
  filters:
    - simplifier
    - simplifier@simplification
    - simplifier@short_hints #æ»¤é•œ
    - uniquifier

# æ‹¼å†™è®¾å®š
speller:
  alphabet: "abcdefghijklmnopqrstuvwxyz;'"    # ä¸ç›´æ¥ä¸Šå±çš„æ ‡ç‚¹
  initials: ';abcdefghijklmnopqrstuvwxyz'     # å¯ä»¥ä½œä¸ºç¬¬ä¸€ä½çš„å¼•å¯¼è¯
  finals: "'"
  # delimiter: " '"
  max_code_length: 4
  auto_select: true   #é¡¶å­—ä¸Šå±
  auto_select_pattern: ^;.$|^\w{4}$
  auto_clear: max_length #manual|auto|max_length ç©ºç æŒ‰ä¸‹ä¸€é”®ç¡®è®¤æ¸…å±|ç©ºç è‡ªåŠ¨æ¸…|è¾¾åˆ°æœ€é•¿ç æ—¶åç é¡¶ä¸Šæ¸…å±

# ç¿»è¯‘å™¨ï¼Œå°é¹¤éŸ³å½¢
translator:
  dictionary: xhup                # æŒ‚è½½è¯åº“ xhup.dict.yaml
  enable_charset_filter: false
  enable_sentence: false          # æ˜¯å¦å¯ç”¨é€ å¥æ¨¡å¼
  enable_completion: false        # ç¼–ç æç¤ºå¼€å…³
  enable_user_dict: false
  disable_user_dict_for_patterns:
    - "^z.*$"

# é‡å¤ä¸Šå±
history:
   input: ;f
   size: 1              # é‡å¤å‰å‡ æ¬¡ä¸Šå±
   initial_quality: 1   # é¦–é€‰

# ç®€ç¹è½¬æ¢å™¨
simplification:
  opencc_config: s2tw.json      # s2t.json | s2hk.json | s2tw.json | s2twp.json
  option_name: simplification
  tips: all                     # è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚

short_hints:
  opencc_config: short_hints.json
  option_name: short_hints
  show_in_comment: true #ä½œä¸ºæ³¨è§£åœ¨åé¢æ˜¾ç¤º
  comment_format:
   - xform/^/ã€”/
   - xform/$/ã€•/
  tips: all
  # tags:
  #   - abc
  #   - tiger
  #   - tigress
  #   - xhup
    # - reverse_lookup

# åæŸ¥è¯åº“
xhup_reverse:
  dictionary: xhup_reverse
  comment_format:
   # - xform/^/ã€”/
   # - xform/$/ã€•/
    - xform/ / /

# å¿«æ·é”®è®¾ç½®
key_binder:
  import_preset: default  # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
  bindings:               # ä¸€äº›ä¸“ç”¨çš„å¿«æ·é”®
    - {accept: bracketleft, send: bracketleft, when: paging}        # æ³¨é”€[ä¸Šç¿»é¡µ
    - {accept: bracketright, send: bracketright, when: has_menu}    # æ³¨é”€]ä¸‹ç¿»é¡µ
    - {accept: comma, send: comma, when: paging}                    # æ³¨é”€é€—å·ç¿»é¡µ
    - {accept: period, send: period, when: has_menu}                # æ³¨é”€å¥å·ç¿»é¡µ
    - {accept: semicolon, send: '2', when: has_menu}                # åˆ†å·æ¬¡é€‰
  #  - {accept: Release+semicolon, send: semicolon, when: has_menu} # å¦‚å¯ç”¨æ­¤è¡Œï¼Œåˆ™åˆ†å·å¼•å¯¼ç¬¦å·åŠŸèƒ½æ— æ•ˆ
    - {accept: Release+period, send: period, when: composing}       # å¥å·é¡¶å±
    - {accept: Release+comma, send: comma, when: composing}         # é€—å·é¡¶å±
    - {accept: "Tab", send: Escape, when: composing}                # æ³¨é”€ Tab é”®ï¼ˆdefault å¯ä»¥é€šè¿‡ Tab æ¥åˆ‡æ¢å…‰æ ‡è‡³ä¸‹ä¸€ä¸ªæ‹¼éŸ³ï¼‰
    - {accept: "Shift_R", send: Escape, when: composing}            # æ³¨é”€å³ä¾§ Shift é”®ï¼Œç”¨æ¥è¿›è¡Œè¾“å…¥æ³•åˆ‡æ¢ä¸­è‹±ï¼ˆé…åˆ Karabinerï¼‰
    - {accept: "Shift+space", toggle: full_shape, when: always}     # åˆ‡æ¢å…¨åŠè§’
    - {accept: "Control+period", toggle: ascii_punct, when: always} # åˆ‡æ¢ä¸­è‹±æ ‡ç‚¹
    - {accept: "Control+j", toggle: simplification, when: always}   # åˆ‡æ¢ç®€ç¹

# è¯†åˆ«å™¨
recognizer:
  import_preset: default                  # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
  patterns:
    uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"  # ä¸­æ–‡çŠ¶æ€å¯ä»¥æ··åˆè¾“å…¥å¤§å†™è‹±æ–‡
    # uppercase: ""                       # ä¸­æ–‡çŠ¶æ€å¤§å†™é”å®šç›´æ¥ä¸Šå±
    reverse_lookup: "[a-z`]*`+[a-z`]*"
    punct: ""
    expression: "^=.*$"

menu:
  page_size: 5      # å€™é€‰é¡¹æ•°

style:
  color_scheme: crane
  color_scheme_dark: crane
  horizontal: true

preset_color_schemes:
  # å‡‡é¹¤ç‰ˆå°é¹¤åŒæ‹¼è¾“å…¥æ³•çš®è‚¤
  crane:
    name: "é›ªä¸‹é¹¤"
    author: "æ°´çŒ« <kchen0x@gmail.com>"
    back_color: 0xE3E3E3                    # å€™é€‰æ¡èƒŒæ™¯è‰²
    border_color_width: 2
    border_color: 0x545554                  # è¾¹æ¡†è‰²
    border_height: 4                        # çª—å£è¾¹ç•Œé«˜åº¦ï¼Œå¤§äºåœ†è§’åŠå¾„æ‰ç”Ÿæ•ˆ
    border_width: 4                         # çª—å£è¾¹ç•Œå®½åº¦ï¼Œå¤§äºåœ†è§’åŠå¾„æ‰ç”Ÿæ•ˆ
    candidate_format: "\u2005%@\u2005"      # å–æ¶ˆæ‰å€™é€‰åºå·ï¼Œç”¨ 1/6 em ç©ºæ ¼ U+2005 åŒ…å›´å€™é€‰è¯ï¼Œè¿™æ ·æ›´è¾¹è·æ›´èˆ’æœ
    corner_radius: 4                        # çª—å£åœ†è§’åŠå¾„
    hilited_text_color: 0x000000            # ç¼–ç é«˜äº®
    hilited_back_color: 0xffffff            # ç¼–ç èƒŒæ™¯é«˜äº®
    hilited_candidate_label_color: 0xeeeeee # é¦–é€‰ç¼–å·è‰²
    hilited_candidate_text_color: 0xffffff  # é¦–é€‰æ–‡å­—è‰²
    hilited_candidate_back_color: 0x545554  # é¦–é€‰èƒŒæ™¯è‰²
    hilited_comment_text_color: 0xcccccc    # é¦–é€‰æç¤ºå­—æ¯è‰²
    label_color: 0x555555                             # æ¬¡é€‰ç¼–å·è‰²
    candidate_text_color: 0x000000                    # æ¬¡é€‰æ–‡å­—è‰²
    candidate_back_color: 0xffffff                    # æ¬¡é€‰èƒŒæ™¯è‰²
    comment_text_color: 0x555555                      # æ¬¡é€‰æç¤ºå­—æ¯è‰²
    # horizontal: true                        # å€™é€‰çª—æ¨ªå‘æ˜¾ç¤º
    font_point: 18                          # å€™é€‰çª—æ–‡å­—å­—å·
    comment_font_point: 16                  # æç¤ºæ–‡å­—å¤§å°
    label_font_point: 12                    # å€™é€‰çª—ç¼–å·å­—å·
    # inline_preedit: true                    # å¼€å¯åµŒå…¥ç¼–ç 
    # inline_candidate: true                  # å¼€å¯åµŒå…¥å€™é€‰
    text_color: 0x333333                    # ç¼–ç è¡Œæ–‡å­—é¢œè‰²ï¼Œ24ä½è‰²å€¼ï¼Œ16è¿›åˆ¶ï¼ŒBGRé¡ºåº

  # åŸç‰ˆå°é¹¤åŒæ‹¼è¾“å…¥æ³•çš®è‚¤
  metro:
    author: "flypy.com"
    back_color: 0xffffff                    # å€™é€‰æ¡èƒŒæ™¯è‰²
    border_color_width: 1
    border_color: 0xe89f00                  # è¾¹æ¡†è‰²
    border_height: 8                        # çª—å£è¾¹ç•Œé«˜åº¦ï¼Œå¤§äºåœ†è§’åŠå¾„æ‰ç”Ÿæ•ˆ
    border_width: 8                         # çª—å£è¾¹ç•Œå®½åº¦ï¼Œå¤§äºåœ†è§’åŠå¾„æ‰ç”Ÿæ•ˆ
    candidate_format: "%c\u2005%@"          # ç”¨ 1/6 em ç©ºæ ¼ U+2005 æ¥æ§åˆ¶ç¼–å· %c å’Œå€™é€‰è¯ %@ å‰åçš„ç©ºé—´ã€‚
    corner_radius: 6                        # çª—å£åœ†è§’åŠå¾„
    #hilited_corner_radius: 6                # é«˜äº®åœ†è§’
    hilited_text_color: 0x000000            # ç¼–ç é«˜äº®
    hilited_back_color: 0xffffff            # ç¼–ç èƒŒæ™¯é«˜äº®
    hilited_candidate_label_color: 0xeeeeee # é¦–é€‰ç¼–å·è‰²
    hilited_candidate_text_color: 0xffffff  # é¦–é€‰æ–‡å­—è‰²
    hilited_candidate_back_color: 0xe89f00  # é¦–é€‰èƒŒæ™¯è‰²
    hilited_comment_text_color: 0xcccccc    # é¦–é€‰æç¤ºå­—æ¯è‰²
    label_color: 0x555555                             # æ¬¡é€‰ç¼–å·è‰²
    candidate_text_color: 0x000000                    # æ¬¡é€‰æ–‡å­—è‰²
    candidate_back_color: 0xffffff                    # æ¬¡é€‰èƒŒæ™¯è‰²
    comment_text_color: 0x555555                      # æ¬¡é€‰æç¤ºå­—æ¯è‰²
    horizontal: true                        # å€™é€‰çª—æ¨ªå‘æ˜¾ç¤º
    font_point: 18                          # å€™é€‰çª—æ–‡å­—å­—å·
    label_font_point: 14                    # å€™é€‰çª—ç¼–å·å­—å·
    inline_preedit: true                    # å¼€å¯åµŒå…¥ç¼–ç 
    name: "metro"
    text_color: 0x333333                    # ç¼–ç è¡Œæ–‡å­—é¢œè‰²ï¼Œ24ä½è‰²å€¼ï¼Œ16è¿›åˆ¶ï¼ŒBGRé¡ºåº
